@model HomePageViewModel


@{
    ViewBag.Title = @Localizer["Title"];
}

<div class="page-header page-header-xxs settings-background" data-parallax="true" style="background-image: url('@Url.Content("~/blog.jpg")'); transform: translate3d(0px, 0px, 0px);">
    <div class="filter"></div>
</div>

<div class="main">
    <div class="section section-white">
        <div class="container">

            <div class="row">
                <div class="col-md-9 ml-auto mr-auto">


                    <div class="row">
                        <div class="col-md-6 ml-auto mr-auto text-center">
                            <h2 class="title">@Localizer["LastNews"]</h2>
                        </div>
                    </div>

                    @foreach (NewsAnnotationViewModel lastNews in Model.LastNews)
                    {
                        <news news-view="lastNews" controller-name="News" action-name="Index"></news>
                        <hr>
                    }

                    <div class="text-right">
                        <a asp-controller="Home" asp-action="List" class="btn btn-link btn-primary">@Localizer["AllNews"]</a>
                    </div>

                    <div class="row">
                        <div class="col-md-6 ml-auto mr-auto text-center title">
                            <h2 class="title">@Localizer["TopNews"]</h2>
                        </div>
                    </div>


                    @foreach (NewsAnnotationViewModel topNews in Model.TopNews)
                    {
                        <news news-view="topNews" controller-name="News" action-name="Index"></news>
                        <hr>

                    }
                </div>
                <div class="col-md-3 ml-auto mr-auto">
                    <div class="cloud-tags-calendar">
                    <div class="content"></div>
                    <input type="hidden" name="DateCalendar" id="DateCalendar">
                    <div id="myCalendar" class="vanilla-calendar"></div>
                        </div>

                </div>

            </div>
        </div>
    </div>
</div>

@section Scripts {

    <script>
        $(window).ready(function () {
            $('body').removeClass('full-screen');
            $('body').addClass('blog-posts');
        });

        let myTags = JSON.parse('@Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model.ListTags))');

        let tagCloud = TagCloud('.content', myTags);

        let selectDate = new Date("@(DateTime.MinValue.ToString("s"))")
       
        let myCalendar = new VanillaCalendar({
            selector: "#myCalendar",
            selectDate: selectDate,
            onSelect: (data, elem) => {
                $('#DateCalendar').val(data.date);
                location.href = "Home/List?DateCalendar=" + data.date;
            }
        });

    </script>
}